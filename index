<html>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <head>
    <title>Telling stories with data</title>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script type='text/javascript' src='https://code.jquery.com/jquery-2.1.1.min.js'></script>
    <style type='text/css'>
    @font-face{
        font-family: "BentonSans";
        src: url("http://s1.ft-static.com/m/font/ft-velcro/bentonsans-regular.eot");
        src: url("http://s1.ft-static.com/m/font/ft-velcro/bentonsans-regular.eot?#iefix") format("embedded-opentype"), 
        url("http://interactivegraphics.ft-static.com/inc/fonts/BentonSansRegular.woff") format("woff"),
        url("http://interactivegraphics.ft-static.com/inc/fonts/BentonSansRegular.ttf") format("truetype");
        font-style: normal;
        font-weight: normal;
    }
    @font-face{
    font-family: "BentonSans";
    src: url("http://s1.ft-static.com/m/font/ft-velcro/bentonsans-bold.eot");
    src: url("http://s1.ft-static.com/m/font/ft-velcro/bentonsans-bold.eot?#iefix") format("embedded-opentype"), 
    url("http://interactivegraphics.ft-static.com/inc/fonts/BentonSansBold.woff") format("woff"),
    url("http://interactivegraphics.ft-static.com/inc/fonts/BentonSansBold.ttf") format("truetype");
    font-style: normal;
    font-weight: bold;
    }
    @font-face{
    font-family: "MillerDisplay";
    src: url('http://interactivegraphics.ft-static.com/inc/fonts/MillerDisplay-Roman.eot');
    src: url('http://interactivegraphics.ft-static.com/inc/fonts/MillerDisplay-Roman.eot?#iefix') format('embedded-opentype'),
         url("http://interactivegraphics.ft-static.com/inc/fonts/MillerDisplay-Roman.woff") format("woff"),
         url("http://interactivegraphics.ft-static.com/inc/fonts/MillerDisplay-Roman.ttf") format("truetype");
    font-style: normal;
    font-weight: normal;
    }
    @font-face{
    font-family: "Clarion";
    src: url("http://interactivegraphics.ft-static.com/inc/fonts/Clarion.woff") format("woff"),
        url("http://interactivegraphics.ft-static.com/inc/fonts/Clarion.ttf") format("truetype");
    font-style: normal;
    font-weight: normal;
    }
    text{font-family:"BentonSans",sans-serif;cursor:default;}
    a{color:#43423e;margin-right:0px;text-decoration:none;background-color:#fff1e0;padding:4px 8px;border-radius:3px;font-family:"BentonSans",sans-serif;height:20px;line-height:19px;transition: background-color 0.3s, color 0.3s;}
    #credits a{color:#2e6e9e;position:relative;margin-right:0px;text-decoration:none;none;background-color:#fff1e0;padding:0px;border-radius:0px;font-size:11px;font-weight:normal;}
    div#credits{position:relative;top:650px;margin-left:auto;margin-right:auto;width:972px;z-index:1000}
    #credits span{font-size:11px;font-weight:bold;}
    #credits span#author{position:relative;left:16px;}
    #credits span#inspiredby{position:relative;left:32px;font-weight:normal;}
    #credits span#maps{position:relative;left:8px;}
    span{color:#43423e;font-family:"BentonSans",sans-serif;cursor:default;}
    a:hover{background-color:#74736c;color:#fff1e0;}
    #credits a:hover{background-color:none;color:#000;}
    #credits a.ftr:hover{background-color:none;color:#43423e;}
    #credits a.ftr{color:#43423e;}
    .axis path,
    .axis line{fill:none;stroke:#a7a59b;shape-rendering:crispEdges;}
    .axis text{font-family:"BentonSans"sans-serif;font-size: 12px;fill:#43423e;}
    text.fixtures{font-size:18px;fill:#d7706c;}
    path.selected{stroke:#4e86b6;}
    text.namelabel{cursor:default;}
    .scattertext{pointer-events:none;}
    .scatterhovertext{pointer-events:none;}
    .servetext{pointer-events:none;}
    .returntext{pointer-events:none;}
    .scattercircle{cursor:pointer;}
    .scattercircle:hover{stroke-width:2px;}
    .goalspath{stroke-width:1px;stroke:#b8b1a9;fill:none;stroke-opacity:0.5;}
    .goalspath.keyplayer{stroke-width:2px;stroke:#76acb8;stroke-opacity:1;}
    .goalspath.keyplayer.hovered{stroke-width:3px;}
    .goalspath.hovered{stroke:#af516c;stroke-opacity:1;stroke-width:2px;}
    .goalscircle{fill:#b8b1a9;fill-opacity:0.5;}
    .goalscircle.keyplayer{fill:#76acb8;fill-opacity:1;stroke:#76acb8;}
    .goalscircle.hovered{fill:#af516c;fill-opacity:1;stroke:#af516c;}
    .goalscircle.keyplayer.hovered{fill:#af516c;fill-opacity:1;stroke:#af516c;stroke-width:2px;}
    .goalspathblank{stroke:transparent;stroke-width:8px;fill:none;}
    .hovertext{font-size:10px;fill:transparent;pointer-events:none;}
    .hovertext.keyplayer{fill:#43423e;}
    .hovertext.hovered{fill:#43423e;}
    .hovertext.keyplayer.hovered{font-weight:bold;}
    #ft-header {
    height: 50px;
    background-color: #FFF9F1;
    width: 100%;
    position: fixed;
    top: 0;
    z-index: 50;
    overflow: hidden;
    text-align: center;
    border-bottom: 1px solid #cec6b9;
    box-shadow: 0 2px 2px 0 rgba(0,0,0,.1);
    }
    #ft-header a{background-color:#fff9f1;}
    #ft-header a>img {
    margin-top: 13px;
    opacity: .8;
    transition: opacity .3s;
    }
    h1 {
    text-align: center;
    margin: 70px auto auto;
    font-family: MillerDisplay,Clarion,Georgia,serif;
    font-weight: 400;
    font-size: 3em;
    }
    h1 {
    display: block;
    -webkit-margin-start: 0px;
    -webkit-margin-end: 0px;
    }
    #captiondiv span {
    font-family: Clarion,Georgia,serif;
    font-size: 0.9em;
    line-height: 1.5em;
    color: #43423e;
    margin-top: 1em;
    }
    #captiondiv a {
    font-family: Clarion,Georgia,serif;
    font-size: 0.9em;
    line-height: 1.5em;
    margin-top: 1em;
    }
    a.clickselected{background-color:#74736c;color:#fff1e0;}
    a#captionlink{color:#2e6e9e;padding:0px;border-radius:0px;font-weight:normal;background-color:transparent;}
    a#captionlink:hover{background-color:none;color:#000;}
    .slidetitle{text-anchor:middle;font-size:56px;font-family:"BentonSans";font-weight:bold;}
    .slideheader{font-size:56px;font-family:"BentonSans";font-weight:bold;}
    .mydetails{text-anchor:middle;font-size:36px;font-family:"BentonSans";}
    .mydetails2{text-anchor:middle;font-size:24px;font-family:"BentonSans";}
    .anyqs{text-anchor:middle;font-size:48px;font-family:"BentonSans";}
    .keypoint.hed{fill:#74736c;font-weight:bold;font-size:24px;}
    .keypoint.sub{fill:#434234;font-size:22px;}
    .keypoint.sub2{fill:#434234;font-size:22px;}
    </style>
  </head>
  <body>
    <header id="ft-header" class="stickable">
      <a href="//www.ft.com/"><img src="//interactivegraphics.ft-static.com/sites/2014/deficit-calculator/images/content/ft.svg" alt="Financial Times" height="20"></a>
    </header>

    <!-- <h1 class="introtext">Telling stories with data</h1> -->

    <!-- <div id="credits"><span>Source: <a target="_blank" href="http://www.worldfootball.net/alltime_goalgetter/champions-league/tore/1/">WorldFootball.net</a><span id="author">Graphic by: <a target="_blank" href="https://twitter.com/jburnmurdoch">John Burn-Murdoch</a></span><span id="inspiredby">Inspired by: <a target="_blank" href="http://www.nytimes.com/interactive/2014/10/19/upshot/peyton-manning-breaks-touchdown-passing-record.html">NYT Upshot</a></span></div>    --> 

    <script type="text/javascript">
    // Here I'm setting the page background to the FT style
    d3.select("body")
      .style("margin","auto")
      .style("background-color","#fff1e0");

    // This block adds a div to hold everything that follows (except the hard-coded "credits" div which I have positioned below it)
    var cont = d3.select("body").append("div")
      .attr("id","container")
      .style("height","930")
      .style("width","1572")
      .style("margin-left","auto")
      .style("margin-right","auto")
      .style("background-color","transparent");

    var tdv = d3.select("body").append("div")
      .attr("id","testdiv")
      .style("height","150")
      .style("width","172")
      .style("margin-left","auto")
      .style("margin-right","auto")
      .style("border","1px red");
    // This block is the "next" button I use to navigate forwards
    // d3.select("div#container").append("a")
    //   .attr("href","#")
    //   .attr("id","page2")
    //   .text("Next >")
    //   .style("border","solid 1px #43423e")
    //   .style("position","relative")
    //   .style("top","63px")
    //   .style("left","911px")
    //   .style("z-index","1000")
    //   .style("font-size","13px");

    // This one is the "restart" button that appears at the end of the sequence and simply reloads the frame
    // d3.select("div#container").append("a")
    //   .attr("href","#")
    //   .attr("id","restart")
    //   .style("pointer-events","none")
    //   .style("opacity","0")
    //   .style("border","solid 1px #43423e")
    //   .style("position","relative")
    //   .style("top","63px")
    //   .style("left","850px")
    //   .text("Restart")
    //   .style("font-size","13px");

    // This block defines the shaded box in which our caption and navigation buttons will sit
    // d3.select("div#container").append("div")
    //   .attr("id","captionouter")
    //   .style("height","93")
    //   .style("width","956")
    //   .style("padding","0px 8px")
    //   .style("margin","0px")
    //   // .style("background-color","#f6e9d8")
    //   .style("border-radius","3px");

    // // This div holds the caption and stops it overflowing onto the buttons
    // d3.select("div#captionouter").append("div")
    //   .attr("id","captiondiv")
    //   .style("height","90")
    //   .style("width","956")
    //   .style("padding","0px")
    //   .style("margin-right","50px");

    // d3.select("div#container").append("a")
    //   .attr("href","#")
    //   .attr("id","clicktogoals")
    //   .attr("class","clickselected")
    //   .text("Raw number of goals")
    //   .style("border","solid 1px #74736c")
    //   .style("position","relative")
    //   .style("top","8px")
    //   .style("left","655px")
    //   .style("z-index","1000")
    //   .style("font-size","13px");

    // d3.select("div#container").append("a")
    //   .attr("href","#")
    //   .attr("id","clicktogpg")
    //   .text("Adjusted for games played")
    //   .style("border","solid 1px #74736c")
    //   .style("position","relative")
    //   .style("top","8px")
    //   .style("left","658px")
    //   .style("z-index","1000")
    //   .style("font-size","13px");

    // This is my caption text
    // d3.select("div#captiondiv").append("span")
    //   .attr("id","caption")
    //   .text("These are the 100 highest scoring players in the history of elite European club tournament football. Lionel Messi and Raul are tied for first place on 71 goals, with Cristiano Ronaldo just one behind. Each line shows how a player's goals total has built up since their first season playing in the Champions League or its predecessor the European Cup. Standout players are highlighted. But what happens when we adjust for the increase in games played over the decades? Use the buttons below to switch between views")
    //   .style("position","relative")
    //   .style("top","0px")
    //   .style("left","0px")
    //   // .style("font-size","14px")
    //   .style("line-height","22px");

    //   d3.select("#captiondiv")
    //   .append("a").text("read more »").attr("target","_blank").attr("href","http://www.ft.com/cms/s/6492885c-71a4-11e4-9048-00144feabdc0.html").attr("id","captionlink").attr("title","Where does Lionel Messi rank among European football’s goal scorers? - FT.com").style("opacity","0").style("pointer-events","none")

    // This div sits below out caption holding divs and will hold the chart(s)
    d3.select("div#container").append("div")
      .attr("id","chart")
      .style("position","relative")
      .style("top","0px")
      .style("height","930")
      .style("width","1572")
      .style("background-color","none");

    // And now we add an SVG inside our chart container
    var svg = d3.select("div#chart").append("svg")
      .style("position","relative")
      .style("top","-15px")
      .attr("height","930")
      .attr("width","1572");

    svg.append("svg:image")
      .attr({
        "x":"350",
        "y":"400",
        "width":"300",
        "height":"250",
        "class":"promo1",
        "xlink:href":"clgoalspromo.png"
      })

    svg.append("svg:image")
      .attr({
        "x":"650",
        "y":"430",
        "width":"300",
        "height":"200",
        "class":"promo2",
        "xlink:href":"lifts.png"
      })

    svg.append("svg:image")
      .attr({
        "x":"950",
        "y":"415",
        "width":"300",
        "height":"200",
        "class":"promo3",
        "xlink:href":"isis.png"
      })

    svg.append("svg:image")
      .attr({
        "x":"360",
        "y":"610",
        "width":"300",
        "height":"250",
        "class":"promo4",
        "xlink:href":"digidivide.png"
      })

    svg.append("svg:image")
      .attr({
        "x":"655",
        "y":"650",
        "width":"300",
        "height":"250",
        "class":"promo5",
        "xlink:href":"atpfinals.png"
      })

    svg.append("svg:image")
      .attr({
        "x":"920",
        "y":"620",
        "width":"300",
        "height":"250",
        "class":"promo6",
        "xlink:href":"gavimmig.png"
      })

    svg.append("text")
      .attr({
        "class":"introtext slidetitle",
        "x":"786",
        "y":"200"
      })
      .text("Telling stories with data")

    svg.append("text")
      .attr({
        "class":"introtext slideheader",
        "x":"1786",
        "y":"250"
      })
      .text("The FT Interactive News Desk")

    svg.append("text")
      .attr({
        "class":"introtext mydetails",
        "x":"786",
        "y":"300"
      })
      .text("John Burn-Murdoch, Interactive Data Journalist")

    svg.append("text")
      .attr({
        "class":"introtext mydetails2",
        "x":"786",
        "y":"340"
      })
      .text("Twitter: @jburnmurdoch, email john.burn-murdoch@ft.com")

    svg.append("text")
      .attr({
        "class":"introtext anyqs",
        "x":"786",
        "y":"1450"
      })
      .text("Any questions?")

    svg.append("text")
      .attr({
        "class":"keypoint hed num1",
        "x":"350",
        "y":"350"
      })
      .text("Who are we?")
      .style("opacity","0")

    svg.append("text")
      .attr({
        "class":"keypoint sub num1",
        "x":"350",
        "y":"380"
      })
      .text("Specialist generalists")
      .style("opacity","0")

    svg.append("text")
      .attr({
        "class":"keypoint sub2 num1",
        "x":"350",
        "y":"410"
      })
      .text("")
      .style("opacity","0")



    svg.append("text")
      .attr({
        "class":"keypoint hed num2",
        "x":"350",
        "y":"480"
      })
      .text("Specific specialisms")
      .style("opacity","0")

    svg.append("text")
      .attr({
        "class":"keypoint sub num2",
        "x":"350",
        "y":"510"
      })
      .text("Database manipulation, statistical analysis, mapping, front-end development, design")
      .style("opacity","0")

    svg.append("text")
      .attr({
        "class":"keypoint sub2 num2",
        "x":"350",
        "y":"540"
      })
      .text("")
      .style("opacity","0")

      

    svg.append("text")
      .attr({
        "class":"keypoint hed num3",
        "x":"350",
        "y":"610"
      })
      .text("What is our role within the FT?")
      .style("opacity","0")

    svg.append("text")
      .attr({
        "class":"keypoint sub num3",
        "x":"350",
        "y":"640"
      })
      .text("Finding new and innovative ways to engage existing audience and attract new readers")
      .style("opacity","0")

    svg.append("text")
      .attr({
        "class":"keypoint sub2 num3",
        "x":"350",
        "y":"670"
      })
      .text("")
      .style("opacity","0")

    // This defines the domain (data values) and range (potion of SVG) that the x scale refers to
    // var xScale = d3.scale.linear()
    //  .domain([1955,2015])
    //  .range([23, 870]);

    // // And this does the same for the y scale
    // var yScale = d3.scale.linear()
    //  .domain([0,75])
    //  .range([480, 50]);

    // var yScalegpg = d3.scale.linear()
    //  .domain([0,8.5])
    //  .range([480, 50]);

    // // This then defins an axis based on the x scale, and where to draw ticks along the axis 
    // var xAxis = d3.svg.axis()
    //   .scale(xScale)
    //   .orient("bottom")
    //   .tickFormat(d3.format("d"))
    //   // .tickValues([5null,57,60,63,66])
    //   ;

    // // And this does the same for the y axis based on the y scale
    // var yAxis = d3.svg.axis()
    //   .scale(yScale)
    //   .orient("left")
    //   // .tickValues([41,4null,47,50])
    //   ;

    // var yAxisgpg = d3.svg.axis()
    //   .scale(yScalegpg)
    //   .orient("left")

    //   // .tickValues([41,4null,47,50])
    //   ;

    //This then draws the x axis on our SVG
    // d3.select("svg").append("g")
    // .attr("class", "axis")
    // .attr("id", "xaxis")
    // .attr("transform", "translate(0,480)")
    // .call(xAxis);

    // // And here is the same for the y axis
    // d3.select("svg").append("g")
    // .attr("class", "axis")
    // .attr("id", "yaxis")
    // .attr("transform", "translate(23,0)")
    // .call(yAxis);

    // d3.select("svg").append("g")
    // .attr("class", "axis")
    // .attr("id", "yaxisgpg")
    // .attr("transform", "translate(23,-1000)")
    // .call(yAxisgpg);

    // Now we're adding a title at the top of our y axis, anchored to the left hand edge of the SVG
    // d3.select("svg").append("text")
    //     .attr("class","yscattertitle")
    //     .text("Cumulative goals scored")
    //     .attr("x","0")
    //     .attr("y","35")
    //     .style("font-size","12")
    //     .style("fill-opacity","1")
    //     .style("fill","#43423e");

    // // And here's one for the x axis, anchored to the middle of our SVG
    // d3.select("svg").append("text")
    //     .attr("class","xscattertitle")
    //     .text("Season ending in year shown")
    //     .attr("x","486")
    //     .attr("y","520")
    //     .attr("text-anchor","middle")
    //     .style("font-size","12")
    //     .style("fill-opacity","1")
    //     .style("fill","#43423e");

    // var path = d3.svg.line()
    //   .defined(function(d) { return d != null; })
    //   .interpolate("linear")
    //   .x(function(d, i) { return xScale(seasons[i]); })
    //   .y(yScale);

    // var path2 = d3.svg.line()
    //   .defined(function(d) { return d != null; })
    //   .interpolate("linear")
    //   .x(function(d, i) { return xScale(seasons[i]); })
    //   .y(yScalegpg);

    // svg.selectAll(".linegoalsblank")
    //   .data(goals)
    //   .enter()
    //   .append("path")
    //   .attr("class",function(d,i) {return "graphic goalspathblank " + names[i];})
    //   .attr("d", path);

    // svg.selectAll(".linegoals")
    //   .data(goals)
    //   .enter()
    //   .append("path")
    //   .attr("class",function(d,i) {return "graphic goalspath " + names[i];})
    // //   .attr("d", path);

    // svg.selectAll(".circlegoals")
    //   .data(goals)
    //   .enter()
    //   .append("circle")
    //   .attr({
    //     "cx":function(d,i){return xScale(yearsmax[i]);},
    //     "cy":function(d,i){return yScale(d3.max(goals[i]));},
    //     "r":"1.5px",
    //     "class":function(d,i){return "graphic goalscircle " + names[i];}
    //   })

    // svg.selectAll(".hovertext")
    //   .data(goals)
    //   .enter()
    //   .append("text")
    //   .attr({
    //     "x":function(d,i){return xScale(yearsmax[i])+4;},
    //     "y":function(d,i){return yScale(d3.max(goals[i]))+4;},
    //     "class":function(d,i){return "graphic hovertext " + names[i];}
    //   })
    //   .text(function(d,i){return names[i].replace(/_/g," ");})

    // var messilength = d3.select(".goalspath.Lionel_Messi").attr("d").replace(/[A-z]/,"").split("L").length-1;

    // svg.append("circle")
    // .attr({
    //   "cx":function(){return d3.select(".goalspath.Lionel_Messi").attr("d").replace(/[A-z]/,"").split("L")[messilength].split(",")[0];},
    //   "cy":function(){return d3.select(".goalspath.Lionel_Messi").attr("d").replace(/[A-z]/,"").split("L")[messilength].split(",")[1];},
    //   "r":"2px"
    // })
    function bgchange() {
      d3.select("body").transition().duration(5000).style("background-color","#9e2f50")
      d3.selectAll(".introtext").transition().duration(5000).style({"color":"#fff1e0","fill":"#fff1e0"})
      d3.select("body").transition().delay(5000).duration(5000).style("background-color","#fff1e0")
      d3.selectAll(".introtext").transition().delay(5000).duration(5000).style({"color":"#000000","fill":"#000000"})
      d3.select("body").transition().delay(10000).duration(5000).style("background-color","#76acb8")
      d3.selectAll(".introtext").transition().delay(10000).duration(5000).style({"color":"#fff1e0","fill":"#fff1e0"})
      d3.select("body").transition().delay(15000).duration(5000).style("background-color","#fff1e0")
      d3.selectAll(".introtext").transition().delay(15000).duration(5000).style({"color":"#000000","fill":"#000000"})
      d3.select("body").transition().delay(20000).duration(5000).style("background-color","#d7706c")
      d3.selectAll(".introtext").transition().delay(20000).duration(5000).style({"color":"#fff1e0","fill":"#fff1e0"})
      d3.select("body").transition().delay(25000).duration(5000).style("background-color","#fff1e0")
      d3.selectAll(".introtext").transition().delay(25000).duration(5000).style({"color":"#000000","fill":"#000000"}).each("end", bgchange)
    }

    var slidenum = 0;

    function toslide1() {
      d3.select("body").transition().duration(100).style("background-color","#fff1e0")
      d3.selectAll(".introtext").transition().duration(100).style({"color":"#000000","fill":"#000000"})
      d3.select(".slidetitle").transition().delay(700).duration(800).attr("y","130").style("font-weight","normal")
      d3.select(".mydetails").transition().delay(700).duration(800).style("font-size","24px").attr("y","900")
      d3.select(".mydetails2").transition().delay(700).duration(800).style("font-size","18px").attr("y","920")
      d3.select(".slideheader").transition().delay(700).duration(800).attr("x","350")
      d3.select(".promo1").transition().duration(1000).attr("x","-1000").attr("y","-1000")
      d3.select(".promo2").transition().duration(1000).attr("y","-1000")
      d3.select(".promo3").transition().duration(1000).attr("x","2000").attr("y","-1000")
      d3.select(".promo4").transition().duration(1000).attr("x","-1000").attr("y","2000")
      d3.select(".promo5").transition().duration(1000).attr("y","2000")
      d3.select(".promo6").transition().duration(1000).attr("x","2000").attr("y","2000")
      d3.selectAll(".keypoint").transition().delay(700).duration(800).style("opacity","1")
      slidenum = 1
    }

    function toslide2() {
      d3.select(".slideheader")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("What do we produce?")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("All the things")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("The FT produces more than 150 bespoke graphics per week")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("And the interactive team in particular?")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Maps, charts, narrative graphics, timelines, calculators, explorative tools, analyses")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("What resources does each require in terms of time and personnel?")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("I've got a chart for that...")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")
      slidenum = 2
    }

    function toslide3() {
      d3.select(".slideheader")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Typology chart goes here")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")
      slidenum = 3
    }

    function toslide4() {
      d3.select(".slideheader")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("How are they produced?")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Programming languages, both in the back...")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("SQL, R, various command line tools for obtaining, cleaning and manipulating data")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("And up front")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("d3, Leaflet.js")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Aptitude and attitude")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Underpinning everything is the desire, ability and scope to learn new skills on the job")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")
      slidenum = 4
    }

    function toslide5() {
      d3.select(".slideheader")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Goals and guidelines")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Serving current and prospective subscribers")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Our readers are very intelligent people and they pay for what they read online as well as ")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub2.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("in print")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Meeting and expanding their expectations")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("We aim to produce analysis and visualisation that satisfies their intellect and does not ")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub2.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("oversimplify")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Front-end and behind the scenes")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Higher level graphics such as scatter plots and cartograms, and relatively advanced ")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub2.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("statistical methods")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".promo5").transition().duration(1500).attr({"x":"0","y":"360","width":"315","height":"400"})
      d3.select(".promo6").transition().duration(1500).attr({"x":"1215","y":"360","width":"370","height":"400"})
      slidenum = 5
    }

    function toslide6() {
      d3.select(".slideheader")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("The story remains front and centre")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Data is the foundation, not the facade")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Though most of our work is built on databases, the reader should not have to know that")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub2.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Exhibit A: sport")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Our challenge is to write up a statistical analysis without them realising that's what it is")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub2.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub2.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".promo5").transition().duration(1500).attr({"x":"-200","y":"970","width":"150"})
      d3.select(".promo6").transition().duration(1500).attr({"x":"1600","y":"970","width":"200"})

      slidenum = 6
    }

    function toslide7() {
      d3.select(".slideheader")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Exhibits A, B and C")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Narrative graphic")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Using visual cues to guide the reader through a relatively complex graphic")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Repackaging existing content")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Allowing readers to explore more naturally and with less friction")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Entertaining as well as informing")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Giving the reader an unexpected bonus, without sacrificing the breadth or depth of ")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub2.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("information conveyed")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")
      slidenum = 7
    }

    function toslide8() {
      d3.select(".slideheader")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("How do we know if it's working?")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Success metrics")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("New reader registrations on FT.com, time spent on page")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Reader response")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("We monitor feedback on social media")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("And me personally? Expert critiques")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Seeking opinions directly from specialists")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub2.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")
      slidenum = 8
    }

    function toslide9() {
      d3.select(".slideheader")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Unique value of interactive graphics")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("'You can't reblog Snow Fall' - Felix Salmon")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num1")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("A great exclusive can be quickly re-written")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Revenue protection")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num2")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("Traffic, ad revenue and reputational gain are all tied inextricably to your site")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".hed.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")

      d3.select(".sub2.num3")
      .transition().duration(250).attr("x","-1000").style("opacity","0")
      .transition().delay(750).duration(250).attr("x","2000").text("")
      .transition().delay(1000).duration(500).attr("x","350").style("opacity","1")
      slidenum = 9
    }

    function toslide10() {
      d3.select(".slidetitle").transition().delay(700).duration(800).attr("y","200").style("font-weight","bold")
      d3.select(".mydetails").transition().delay(700).duration(800).style("font-size","24px").attr("y","300")
      d3.select(".mydetails2").transition().delay(700).duration(800).style("font-size","18px").attr("y","340")
      d3.select(".slideheader").transition().delay(700).duration(800).attr("y","-100")
      d3.selectAll(".keypoint").transition().delay(700).duration(800).style("opacity","0")
      d3.select(".anyqs").transition().delay(700).duration(800).attr("y","450")
      slidenum = 10
    }

    function toslide11() {
      bgchange()
      slidenum = 11
    }

    function toslide12() {
      d3.select(".slidetitle").text("Slide 12")
      slidenum = 12
    }

    function toslide13() {
      d3.select(".slidetitle").text("Slide 13")
      slidenum = 13
    }

    function toslide14() {
      d3.select(".slidetitle").text("Slide 14")
      slidenum = 14
    }

    function toslide15() {
      d3.select(".slidetitle").text("Slide 15")
      slidenum = 15
    }

    function toslide16() {
      d3.select(".slidetitle").text("Slide 16")
      slidenum = 16
    }

    function toslide17() {
      d3.select(".slidetitle").text("Slide 17")
      slidenum = 17
    }

    function toslide18() {
      d3.select(".slidetitle").text("Slide 18")
      slidenum = 18
    }

    function toslide19() {
      d3.select(".slidetitle").text("Slide 19")
      slidenum = 19
    }

    function toslide20() {
      d3.select(".slidetitle").text("Slide 20")
      slidenum = 20
    }

    function donothing() {
      d3.select(".mydetails2").style("opacity","1")
    }

    addEventListener("keydown", function(event) {
        if (event.keyCode == 34 && slidenum == 0) toslide1()
        else {if (event.keyCode == 34 && slidenum == 1) toslide2()
        else {if (event.keyCode == 34 && slidenum == 2) toslide3()
        else {if (event.keyCode == 34 && slidenum == 3) toslide4()
        else {if (event.keyCode == 34 && slidenum == 4) toslide5()
        else {if (event.keyCode == 34 && slidenum == 5) toslide6()
        else {if (event.keyCode == 34 && slidenum == 6) toslide7()
        else {if (event.keyCode == 34 && slidenum == 7) toslide8()
        else {if (event.keyCode == 34 && slidenum == 8) toslide9()
        else {if (event.keyCode == 34 && slidenum == 9) toslide10()
        else {if (event.keyCode == 34 && slidenum == 10) toslide11()
        else {if (event.keyCode == 34 && slidenum == 11) toslide12()
        else {if (event.keyCode == 34 && slidenum == 12) toslide13()
        else {if (event.keyCode == 34 && slidenum == 13) toslide14()
        else {if (event.keyCode == 34 && slidenum == 14) toslide15()
        else {if (event.keyCode == 34 && slidenum == 15) toslide16()
        else {if (event.keyCode == 34 && slidenum == 16) toslide17()
        else {if (event.keyCode == 34 && slidenum == 17) toslide18()
        else {if (event.keyCode == 34 && slidenum == 18) toslide19()
        else {if (event.keyCode == 34 && slidenum == 19) toslide20()
        else donothing()
      }}}}}}}}}}}}}}}}}}}
      });

    // addEventListener("keydown", function(event) {
    //     if (event.keyCode == 33)
    // transitionback()
    //   });


    bgchange();



    


    // Here I'm telling d3 what to do when I click "next"
    // d3.select('#page2').on('click',function() {

    // After a short delay I'm changing the caption text from what it was to what follows here
    // d3.select("#caption")
    // .transition()
    // .delay(600)
    // .text("New caption text")

    // And I'm changing the ID of the "Next" button so it will do something different on the next click
    // d3.select("#page2")
    // .attr("id","page3")

    // I'm also making our "Restart" button visible and clickable. Replacing the "#" with the URL to this graphic would give it the "reload frame" function
    // d3.select("#restart")
    //                 .transition()
    //                 .delay(1005)
    //                 .style("z-index","10000")
    //                 .style("opacity","1")
    //                 .style("pointer-events","all")                    
    //                 .attr("href","#")

    // Simultaneously, I'm hiding the "Next" button and making it unclickable
    // d3.select("#page3")
    //                         .style("pointer-events","none")
    //                         .style("opacity","0")
    //                         .style("z-index","0")

    // })
    </script>
    
  </body>
</html>
